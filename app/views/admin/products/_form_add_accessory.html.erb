<%= simple_form_for([:admin, @product], remote: request.xhr?, html: { data: { modal: true } }) do |form| %>               
                  
<div class="modal-body">
  <div style="background-color:#f05050; border-color: #f05050; border-radius: 0.25rem; color:white; font-weight:bold;">
        <ul class="errors"></ul>
  </div>

  <div class="form-group">
        <%= form.label :name, class: "col-form-label"%> *
        <%= form.text_field :name, class: "form-control", type: "text", required: true %>
  </div>




    <%= form.fields_for :products_accessories do |f| %>
      <div class="form-group">
          <%= f.label :accessory_id, class: "col-form-label"%>
          <div class="form-group">
            <%= f.collection_select :accessory_id, Accessory.all, :id, :name, {prompt: t('choose_from_select')}, {class: "dynamic-select width-small select2"}  %>
          </div>
          <div class="form-group">
                <%= f.label :quantity, class: "col-form-label"%>
                <%= f.text_field :quantity, class: "form-control", type: "number" %>
          </div>
      </div>
    <% end %> 







   <div class="required">* Required fields</div>
</div>
<div class="modal-footer">
   <div class="clearfix">
      <div class="float-right">
        <%= form.submit class: "btn btn-primary" %>
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
   </div>
</div>
                     
<% end %>

<script type="text/javascript">
$("[data-form-prepend]").click(function(e) {
  var obj = $($(this).attr("data-form-prepend"));
  obj.find("input, select, textarea").each(function() {
    $(this).attr("name", function() {
      return $(this)
        .attr("name")
        .replace("new_record", new Date().getTime());
    });
  });
  obj.insertBefore(this);
  return false;
});          
</script>